# 社招

## 腾讯：

zookeeper节点类型？选举机制？主节点故障如何重选？

标清如何给对象分配内存空间？

spring di 的原理

502错误你怎么排查？

并发很大，宕机怎么办。

负载均衡算法的实现？

轮询、随机的缺点？

分布式服务治理？

dns迭代递归的区别？

为什么连接的时候是三次握手，关闭的时候却是四次握手？ 

​    因为当Server端收到Client端的SYN连接请求报文后，可以直接发送SYN+ACK报文。其中ACK报文是用来应答的，SYN报文是用来同步的。但是关闭连接时，当Server端收到FIN报文时，很可能并不会立即关闭SOCKET，所以只能先回复一个ACK报文，告诉Client端，"你发的FIN报文我收到了"。只有等到我Server端所有的报文都发送完了，我才能发送FIN报文，因此不能一起发送。故需要四步握手。

分布式cap、base

mysql优化方案、分库分表带来的问题。 

 反范式设计的优缺点 

 了解逃逸分析吗？ 

 谈谈aqs? 

 多线程，nio应用场景。 

 深拷贝和浅拷贝，怎么实现深拷贝。 

研究过泛型的源码么？

 内存泄露，内存溢出解决方案。 

spring源码理解

 对象创建过程。
jdk动态代理，什么是动态。 

 序列化底层怎么实现的 

事务、事务传播属性。 

 有么有用过定时事务。 

mybatis源码

 spring cloud 组件和实现 



## 百度：

 主键必须有吗？数据索引密集度很差的话，你的优化意义不大吧？ 

 MySQL有哪几种索引？聚簇索引和辅助索引的区别？ 

 MVCC？版本号怎么变化的？更新的数据的时候怎么确定版本的？ 

 MySQL哪些不正规的写法无法命中索引？ 

 MYSQL会怎么选的索引 ？ 

MySQL有哪几种日志？redo log主要有什么用？提交之后100%落盘吗？为什么MySQL要写到redo log buff内存？

redis分布式锁用过吗？说说怎么用的？用的哪个命令？

redis 底层 hash 表扩容机制说一下？ 

类加载过程？常用的类加载器？调用顺序？为啥双亲委派？

redis 的list有哪几种操作？ 

redis 分布式锁解决了什么问题？ 为什么能支持分布式锁？使用方式有哪些？ 

static关键字的用法？

 Map put的流程讲下 

项目具体做了哪些事情， 一些查询维度的接口？ 

 如果现在让你开发一些接口，你怎么做接口隔离。表的数量？表数据量？ 

mq重复消费，丢消息的问题怎么解决？ 

mq和线程，开现场做不就可以了区别是什么？ 

Spring循环依赖怎么解决？

 写一下堆栈溢出你怎么写？为什么往集合设置那么多元素没有被GC？ 

介绍一下Java的锁？

个人观看源码的结果，我说的线程池execute，submit中适配的思想 

## 搜狐：

redis zset 底层数据结构是什么 

1.8相比1.7为什么头插变尾插？

 什么时候变成红黑树？双哈希表？ 

volatile与 MESI 

Spring注入方式知道哪些？

Spring bean是线程安全的吗？

 Linux的awk用过吗 

 Java垃圾收集器高并发情况下用哪个？ 



## 字节：

 限流功能要做成分布式的, 怎么做？ 

线程池好处？多创线程就怎么了？压测的时候创建几千个线程才几毫秒这点儿开销有必要节省吗？内存开销，时间开销？线程池参数，execute执行流程，work？没有工作会删除吗？睡眠状态？idl怎么配置的？最大线程满了之后？ 

初始化的时候两个线程都检测到需要初始化了，然后怎么做的？ 

并发度提100倍有哪些优化的点？

接口450ms 优化到了 360 ms怎么优化的？

tomcat只是修改了一下参数吗？

redis集群部署方式？主从和哨兵的区别？

缓存方式还有哪些？

redis的string底层实现，跳表复杂度？  使用过程中出现过变慢？

网关层还了解什么技术？





## 京东：

 cms回收器有哪几个过程，停顿几次，会不会产生内存碎片。老 年代产生内存碎片会有什么问题。 

 jvm内存分区，为什么要有新生代和老年代？ 

 数据库索引主键和唯一索引有什么区别？ 

  innodb的b+树索引 、 聚集索引和非聚集索引的区别？ 

 innoDB的B+树索引叶子节点的Data域存储的是什么？MylSAM的B+树索引叶子节点的Data域存储的是主键还是物理地址？ 

 jvm场景问题，标记清除多次后老年代产生内存碎片，引起full gc，接下来可能发生什么问题？ 

 MySQL的死锁怎么产生的，举了两个例子。 

 MySQL里有哪些锁 ， 行锁表锁，乐观锁呢 

 aio，nio,bio的了解，NIO的核心概念有哪些？ 

 常用的NIO框架有哪些？优劣势？ 

 分布式下redis如何保证线程安全？ 

 zookeeper如何实现分布式锁、其他分布式锁怎么实现？ 

kafka的架构，如何用kafka保证消息的有序性？ 

数据库的优化包含哪些?MySQL的优化，谈两个你优化的例子。 

 最有技术难度的项目，介绍下相关核心设计流程。 







## 滴滴：

 多态实现原理 



 OSI七层模型与TCP/IP 五层模型 

 TCP与UDP区别和应用场景，基于TCP的协议有哪些，基于UDP的有哪些 

 TCP三次握手过程以及每次握手后的状态改变，为什么三次？ 为什么两次不行？ 

 进程间通信方式IPC 

 死锁条件，解决方式。 

## 顺丰：

 TCP/IP四层协议、ip在哪层 

 TCP有无状态 



 dubbo原理，dubbo往zk写入的内容是什么 

 dubbo客户端负载均衡如何实现的 

 zk的数据类型；zk分布式锁，讲具体实现 

 spring启动流程 

 spring bean生命周期、bean实例化过程 





## 招银网络：

面向对象的特性 

jvm的分区 

什么时候进行垃圾回收 

输入url到页面加载完中间的流程 



## 携程：

秒杀库存如何设计的
如何防止超卖 

分布式锁怎么实现？什么时候加？加在什么上面？

 NIO 异步 

 类的加载过程 

 能不能修改字节码 

## 58：

http1.1 http1.0 http2.0 区别

redis长度过长怎么优化？哪个api，数据量超过多少效率会变低？

 limit两个参数区别？MySQL分页优化的其他方法 

本地线程和守护线程的区别，Thread.setDemon();



## 流利说：

并发并行区别？

并发数达到了400多怎么做的优化？

锁怎么做的？分布式锁怎么做的？放过去的请求失败或者延迟大量请求阻塞在那里怎么办？

1. 日志记录模块讲一下？日志统一记录？

  服务之间的相互调用有涉及到吗？ 分布式链路追踪如果某个服务调用出问题了，怎么排查问题？ 

 对CDN有了解吗？https加密是对称还是非对称？ 

 https协议目标源是静态文件，按回车整个请求链路？http静态文件和接口请求的区别？ 