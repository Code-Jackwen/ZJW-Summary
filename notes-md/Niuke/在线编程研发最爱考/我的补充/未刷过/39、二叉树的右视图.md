ç‰›å®¢ï¼šhttps://www.nowcoder.com/practice/c9480213597e45f4807880c763ddd5f0?tpId=117&&tqId=35560&rp=1&ru=/activity/oj&qru=/ta/job-code-high/question-ranking



ç‰›å®¢çš„é—®é¢˜æ˜¯åœ¨**æ¢å¤äºŒå‰æ ‘ï¼ˆå‰ã€ä¸­åºéå†ç»“æœï¼‰**é—®é¢˜çš„åŸºç¡€ä¸ŠåŠ äº†æ‰“å°è¾“å‡ºå³è§†å›¾ã€‚

**æ¢å¤äºŒå‰æ ‘**é—®é¢˜å‚è€ƒï¼š[7. é‡å»ºäºŒå‰æ ‘](https://github.com/Code-Jackwen/ZJW-Summary/blob/main/notes-md/To offer/æ ‘/7. é‡å»ºäºŒå‰æ ‘.md)



é¢˜ç›®æè¿°

è¯·æ ¹æ®äºŒå‰æ ‘çš„å‰åºéå†ï¼Œä¸­åºéå†æ¢å¤äºŒå‰æ ‘ï¼Œå¹¶æ‰“å°å‡ºäºŒå‰æ ‘çš„å³è§†å›¾

ç¤ºä¾‹1

è¾“å…¥

```
[1,2,4,5,3],[4,2,5,1,3]
```

è¿”å›å€¼

```
[1,3,5]
```

å¤‡æ³¨:

```
äºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨åŒºé—´[1,10000]å†…ï¼Œä¸”ä¿è¯æ¯ä¸ªèŠ‚ç‚¹çš„å€¼äº’ä¸ç›¸åŒã€‚
```



## åŠ›æ‰£

åŠ›æ‰£ä¸­ç­‰

[199. äºŒå‰æ ‘çš„å³è§†å›¾](https://leetcode-cn.com/problems/binary-tree-right-side-view/)



ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼ˆäºŒå‰æ ‘å±‚åºéå†ç»“æœæ•°ç»„ï¼‰ï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚



ç¤ºä¾‹:

è¾“å…¥: [1,2,3,null,5,null,4]
è¾“å‡º: [1, 3, 4]



è§£é‡Š:

   1            <---
 /   \
2     3         <---
 \     \
  5     4       <---



## æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢



æ€è·¯ï¼š

å¯¹æ ‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ŒæŒ‰ç…§ ã€Œæ ¹ç»“ç‚¹ -> **å³å­æ ‘** -> å·¦å­æ ‘ã€ çš„é¡ºåºè®¿é—®ï¼Œå°±å¯ä»¥**ä¿è¯æ¯å±‚éƒ½æ˜¯æœ€å…ˆè®¿é—®æœ€å³**è¾¹çš„èŠ‚ç‚¹çš„ã€‚ï¼ˆä¸å…ˆåºéå† ã€Œæ ¹ç»“ç‚¹ -> å·¦å­æ ‘ -> å³å­æ ‘ã€ æ­£å¥½ç›¸åï¼Œå…ˆåºéå†æ¯å±‚æœ€å…ˆè®¿é—®çš„æ˜¯æœ€å·¦è¾¹çš„èŠ‚ç‚¹ï¼‰ 

é‚£ä¹ˆå¯¹äºæ¯ä¸€å±‚æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨è¿™å±‚è§åˆ°çš„ç¬¬ä¸€ä¸ªç»“ç‚¹ä¸€å®šæ˜¯æœ€å³è¾¹çš„ç»“ç‚¹ã€‚è¿™æ ·ä¸€æ¥ï¼Œ**æˆ‘ä»¬å¯ä»¥å­˜å‚¨æ¯ä¸ªæ·±åº¦è®¿é—®çš„ç¬¬ä¸€ä¸ªç»“ç‚¹**ï¼Œä¸€æ—¦æˆ‘ä»¬çŸ¥é“äº†æ ‘çš„å±‚æ•°ï¼Œå°±å¯ä»¥å¾—åˆ°æœ€ç»ˆçš„ç»“æœæ•°ç»„ã€‚ 



ä¾‹å›¾ï¼š

![1611907761622](../../../../assets/1611907761622.png)







æ—¶é—´å¤æ‚åº¦ï¼š O(N)ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è®¿é—®äº† 1 æ¬¡ã€‚
ç©ºé—´å¤æ‚åº¦ï¼š O(N)ï¼Œå› ä¸ºè¿™ä¸æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ï¼ŒäºŒå‰æ ‘çš„æ·±åº¦æœ€å°‘æ˜¯ logN, æœ€åçš„æƒ…å†µä¸‹ä¼šé€€åŒ–æˆä¸€æ¡é“¾è¡¨ï¼Œæ·±åº¦å°±æ˜¯ Nï¼Œå› æ­¤é€’å½’æ—¶ä½¿ç”¨çš„æ ˆç©ºé—´æ˜¯ O(N) çš„ã€‚

##### é€’å½’ç‰ˆæœ¬ï¼š

[ç®€å•BFS/DFS, ğŸ¤·â€â™€ï¸å¿…é¡»ç§’æ‡‚ï¼ - äºŒå‰æ ‘çš„å³è§†å›¾ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/binary-tree-right-side-view/solution/jian-dan-bfsdfs-bi-xu-miao-dong-by-sweetiee/) 

````java
class Solution {
    List<Integer> ret = new ArrayList<>();

    public List<Integer> rightSideView(TreeNode root) {
        dfs(root, 0); // ä»æ ¹èŠ‚ç‚¹å¼€å§‹è®¿é—®ï¼Œæ ¹èŠ‚ç‚¹æ·±åº¦æ˜¯0
        return ret;
    }

    private void dfs(TreeNode root, int dep) {
        if (root == null) return;
        // å¦‚æœå½“å‰èŠ‚ç‚¹æ‰€åœ¨æ·±åº¦è¿˜æ²¡æœ‰å‡ºç°åœ¨resé‡Œï¼Œè¯´æ˜åœ¨è¯¥æ·±åº¦ä¸‹å½“å‰èŠ‚ç‚¹æ˜¯ç¬¬ä¸€ä¸ªè¢«è®¿é—®çš„èŠ‚ç‚¹ã€‚
        if (dep == ret.size()) ret.add(root.val);
        dep++;//å…ˆåˆ¤æ–­æ˜¯å¦æ·»åŠ åè‡ªå¢ã€‚åˆ°äº†å·¦è¾¹ï¼Œdep < ret.size()

        dfs(root.right, dep); //å³ã€å·¦éå†
        dfs(root.left, dep);
    }
}
````

##### æ ˆç‰ˆæœ¬ï¼š

```java
class Solution {
    public List<Integer> rightSideView(TreeNode root) {
        Map<Integer, Integer> rightmostValueAtDepth = new HashMap<Integer, Integer>();
        int max_depth = -1;

        Stack<TreeNode> nodeStack = new Stack<TreeNode>();
        Stack<Integer> depthStack = new Stack<Integer>();
        nodeStack.push(root);
        depthStack.push(0);

        while (!nodeStack.isEmpty()) {
            TreeNode node = nodeStack.pop();
            int depth = depthStack.pop();

            if (node != null) {
            	// ç»´æŠ¤äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦
                max_depth = Math.max(max_depth, depth);

                // å¦‚æœä¸å­˜åœ¨å¯¹åº”æ·±åº¦çš„èŠ‚ç‚¹æˆ‘ä»¬æ‰æ’å…¥
                if (!rightmostValueAtDepth.containsKey(depth)) {
                    rightmostValueAtDepth.put(depth, node.val);
                }

                nodeStack.push(node.left);
                nodeStack.push(node.right);
                depthStack.push(depth+1);
                depthStack.push(depth+1);
            }
        }

        List<Integer> rightView = new ArrayList<Integer>();
        for (int depth = 0; depth <= max_depth; depth++) {
            rightView.add(rightmostValueAtDepth.get(depth));
        }

        return rightView;
    }
}
```



## æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆæ¨èï¼‰

æ€è·¯

å¯¹äºŒå‰æ ‘è¿›è¡Œå±‚æ¬¡éå†ï¼Œé‚£ä¹ˆå¯¹äºæ¯å±‚æ¥è¯´ï¼Œæœ€å³è¾¹çš„ç»“ç‚¹ä¸€å®šæ˜¯æœ€åè¢«éå†åˆ°çš„ã€‚äºŒå‰æ ‘çš„å±‚æ¬¡éå†å¯ä»¥ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢å®ç°ã€‚æ‰§è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå·¦ç»“ç‚¹æ’åœ¨å³ç»“ç‚¹ä¹‹å‰ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸€å±‚éƒ½ä»å·¦åˆ°å³è®¿é—®ï¼Œåœ¨éå†å®Œæ•´æ£µæ ‘åå¾—åˆ°æ¯ä¸ªæ·±åº¦æœ€å³çš„ç»“ç‚¹ã€‚



![1611907788314](../../../../assets/1611907788314.png)



æ—¶é—´å¤æ‚åº¦ : O(n)ã€‚ æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šè¿›é˜Ÿåˆ—ä¸€æ¬¡ï¼Œå‡ºé˜Ÿåˆ—ä¸€æ¬¡ï¼Œå› æ­¤å¹¿åº¦ä¼˜å…ˆæœç´¢çš„å¤æ‚åº¦ä¸ºçº¿æ€§ã€‚

ç©ºé—´å¤æ‚åº¦ : O(n)ã€‚æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šè¿›é˜Ÿåˆ—ä¸€æ¬¡ï¼Œæ‰€ä»¥é˜Ÿåˆ—é•¿åº¦æœ€å¤§ä¸ä¸è¶…è¿‡ nï¼Œæ‰€ä»¥è¿™é‡Œçš„ç©ºé—´ä»£ä»·ä¸º O(n)ã€‚

````java
class Solution {
    public List<Integer> rightSideView(TreeNode root) {
        List<Integer> ret = new ArrayList<>();
        if (root == null) return ret;
        Queue<TreeNode> queue = new LinkedList<>();
        queue.offer(root);
        while (!queue.isEmpty()) {
            int len = queue.len();
            for (int i = 0; i < len; i++) {
                TreeNode node = queue.poll();
                if (node.left != null)  queue.offer(node.left);
                if (node.right != null) queue.offer(node.right);
                if (i == len - 1) ret.add(node.val);
            }
        }
        return ret;
    }
}
````

